import{d as a,r as s,z as o,c as e,b as t,e as l,f as n,g as c,w as i,A as u,x as r,h as d,B as m,H as p,j as f,k as y,i as _,t as h,F as g,p as v,C as k,m as b,ah as C,n as $}from"./index-Bl407YMq.js";import{b as x,d as I,c as S,a as j,_ as w}from"./base64.CiSqhNY6.js";import{u as V}from"./useTranslate.C8VGrN03.js";const B=w(a({name:"ht-tag",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...x,useIconSlot:I(!1),type:S("default"),icon:S(""),closable:I(!1),plain:I(!1),dynamic:I(!1),color:S(""),bgColor:S(""),round:I(!1),mark:I(!1)},emits:["click","close","confirm"],setup(a,{emit:x}){const I=a,S=x,{translate:w}=V("tag"),B=s(""),H=s(""),z=s(!1);o([()=>I.useIconSlot,()=>I.icon,()=>I.plain,()=>I.dynamic,()=>I.round,()=>I.mark],(()=>{O()}),{deep:!0,immediate:!0}),o((()=>I.type),(a=>{if(!a)return;const s=["primary","danger","warning","success","default"];-1===s.indexOf(a)&&console.error(`type must be one of ${s.toString()}`),O()}),{deep:!0,immediate:!0}),o((()=>z.value),(()=>{O()}),{deep:!0,immediate:!0});const A=e((()=>`ht-tag ${I.customClass} ${B.value}`)),F=e((()=>{const a={};return!I.plain&&I.bgColor&&(a.background=I.bgColor),I.bgColor&&(a["border-color"]=I.bgColor),`${k(a)};${I.customStyle}`})),G=e((()=>{const a={};return I.color&&(a.color=I.color),k(a)}));function O(){const{type:a,plain:s,round:o,mark:e,dynamic:t,icon:l,useIconSlot:n}=I;let c=[];a&&c.push(`is-${a}`),s&&c.push("is-plain"),o&&c.push("is-round"),e&&c.push("is-mark"),t&&c.push("is-dynamic"),z.value&&c.push("is-dynamic-input"),(l||n)&&c.push("is-icon"),B.value=c.join(" ")}function T(a){S("click",a)}function U(a){S("close",a)}function q(){z.value=!0,H.value=""}function D(){J()}function E(a){J(),S("confirm",{value:a.detail.value})}function J(){z.value=!1}return(a,s)=>{const o=b,e=t(l("ht-icon"),j),k=C,x=$;return n(),c(o,{class:v(A.value),style:m(F.value),onClick:T},{default:i((()=>[a.useIconSlot?(n(),c(o,{key:0,class:"ht-tag__icon"},{default:i((()=>[u(a.$slots,"icon",{},void 0,!0)])),_:3})):a.icon?(n(),c(e,{key:1,name:a.icon,"custom-class":"ht-tag__icon"},null,8,["name"])):r("",!0),d(o,{class:"ht-tag__text",style:m(G.value)},{default:i((()=>[u(a.$slots,"default",{},void 0,!0)])),_:3},8,["style"]),a.closable&&a.round?(n(),c(o,{key:2,class:"ht-tag__close",onClick:p(U,["stop"])},{default:i((()=>[d(e,{name:"error-fill"})])),_:1})):r("",!0),z.value&&a.dynamic?(n(),c(k,{key:3,class:"ht-tag__add-text",placeholder:f(w)("placeholder"),type:"text",focus:!0,modelValue:H.value,"onUpdate:modelValue":s[0]||(s[0]=a=>H.value=a),onBlur:D,onConfirm:E},null,8,["placeholder","modelValue"])):a.dynamic?(n(),c(o,{key:4,class:"ht-tag__text",style:m(G.value),onClick:p(q,["stop"])},{default:i((()=>[a.$slots.add?u(a.$slots,"add",{key:0},void 0,!0):(n(),y(g,{key:1},[d(e,{name:"add","custom-class":"ht-tag__add ht-tag__icon"}),d(x,null,{default:i((()=>[_(h(f(w)("add")),1)])),_:1})],64))])),_:3},8,["style"])):r("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-615bc205"]]);export{B as _};
