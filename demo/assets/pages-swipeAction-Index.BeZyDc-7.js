import{q as t,d as a,a as e,b as l,_ as o}from"./page-wraper.D_DLAzgo.js";import{d as u,a1 as s,r as n,z as i,a4 as c,v as d,a8 as r,G as f,f as b,g as _,w as p,h,A as v,B as g,p as k,H as m,I as $,m as z,u as w,b as y,e as C,i as j,t as V,j as T}from"./index-Bl407YMq.js";import{_ as x}from"./ht-loading.DCn6to1m.js";import{p as I,r as F,c as Q}from"./clickoutside.CJmLG0WC.js";import{u as q}from"./useTouch.b37GVTmH.js";import{b as H,c as M,d as O,_ as B}from"./base64.CiSqhNY6.js";import{_ as D}from"./demo-block.DyA2odLx.js";import{_ as G}from"./ht-button.8vkNbh4T.js";const P=B(u({name:"ht-swipe-action",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...H,modelValue:M("close"),disabled:O(!1),beforeClose:Function},emits:["click","update:modelValue"],setup(a,{expose:e,emit:l}){const o=a,u=l,w=s(t,null),y=n(""),C=n(0),j=n(0),V=n(!1),T=q(),{proxy:x}=$();function H(t,a){o.disabled||M().then((([e,l])=>{switch(t){case"close":if(0===j.value)return;S("value",a);break;case"left":O(e);break;case"right":O(-l)}}))}function M(){return Promise.all([f(".ht-swipe-action__left",!1,x).then((t=>t.width?t.width:0)),f(".ht-swipe-action__right",!1,x).then((t=>t.width?t.width:0))])}function O(t=0){const a=`translate3d(${t}px, 0, 0)`,e=V.value?"none":".6s cubic-bezier(0.18, 0.89, 0.32, 1)";y.value=`\n        -webkit-transform: ${a};\n        -webkit-transition: ${e};\n        transform: ${a};\n        transition: ${e};\n      `,j.value=t}function B(t){o.disabled||0===j.value||(S("click",t=t||"inside"),u("click",{value:t}))}function D(t){o.disabled||(C.value=j.value,T.touchStart(t),w&&w.closeOther?w.closeOther(x):Q(x))}function G(t){if(o.disabled)return;if(T.touchMove(t),"vertical"===T.direction.value)return;t.preventDefault(),t.stopPropagation(),V.value=!0;const a=C.value+T.deltaX.value;M().then((([e,l])=>0===e&&a>0||0===l&&a<0?(O(0),D(t)):0!==e&&a>=e?(O(e),D(t)):0!==l&&-a>=l?(O(-l),D(t)):void O(a)))}function P(){if(o.disabled)return;const t=.3;V.value=!1,M().then((([a,e])=>{C.value<0&&j.value<0&&j.value-C.value<e*t?(O(-e),u("update:modelValue","right")):C.value>0&&j.value>0&&C.value-j.value<a*t?(O(a),u("update:modelValue","left")):e>0&&C.value>=0&&j.value<0&&Math.abs(j.value)>e*t?(O(-e),u("update:modelValue","right")):a>0&&C.value<=0&&j.value>0&&Math.abs(j.value)>a*t?(O(a),u("update:modelValue","left")):S("swipe")}))}function S(t,a){if("swipe"===t&&0===C.value)return O(0);"swipe"===t&&C.value>0?a="left":"swipe"===t&&C.value<0&&(a="right"),t&&a&&o.beforeClose&&o.beforeClose(t,a),O(0),"close"!==o.modelValue&&u("update:modelValue","close")}return i((()=>o.modelValue),((t,a)=>{H(t,a)}),{deep:!0}),c((()=>{w&&w.pushToQueue?w.pushToQueue(x):I(x),C.value=0,j.value=0,V.value=!1})),d((()=>{V.value=!0,H(o.modelValue),V.value=!1})),r((()=>{w&&w.removeFromQueue?w.removeFromQueue(x):F(x)})),e({close:S}),(t,a)=>{const e=z;return b(),_(e,{class:k(`ht-swipe-action ${t.customClass}`),style:g(t.customStyle),onClick:a[2]||(a[2]=m((t=>B()),["stop"])),onTouchstart:D,onTouchmove:G,onTouchend:P,onTouchcancel:P},{default:p((()=>[h(e,{class:"ht-swipe-action__wrapper",style:g(y.value)},{default:p((()=>[h(e,{class:"ht-swipe-action__left",onClick:a[0]||(a[0]=t=>B("left"))},{default:p((()=>[v(t.$slots,"left",{},void 0,!0)])),_:3}),v(t.$slots,"default",{},void 0,!0),h(e,{class:"ht-swipe-action__right",onClick:a[1]||(a[1]=t=>B("right"))},{default:p((()=>[v(t.$slots,"right",{},void 0,!0)])),_:3})])),_:3},8,["style"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-1802e80c"]]),S=B(u({__name:"Index",setup(t){const{t:u}=w(),{closeOutside:s}=a(),i=e(),c=n("close"),d=(t,a)=>{"click"===t?i.show(u("reason-position-dao-zhi-hua-dong-an-niu-guan-bi",[t,a])):i.show(u("reason-dao-zhi-position-hua-dong-an-niu-guan-bi",[t,a]))};function r(t){c.value=t}function f({value:t}){i.show(u("dian-ji-value-guan-bi-cao-zuo-an-niu",[t]))}function v(t){i.show(u("dian-ji-le-action")+t)}function g(){}return(t,a)=>{const e=y(C("ht-toast"),l),u=y(C("ht-cell"),x),n=z,i=y(C("ht-swipe-action"),P),k=y(C("demo-block"),D),$=y(C("ht-button"),G),w=y(C("page-wraper"),o);return b(),_(w,null,{default:p((()=>[h(e),h(n,{onClick:m(T(s),["stop"])},{default:p((()=>[h(k,{transparent:"",title:t.$t("jiBenYongFa")},{default:p((()=>[h(i,null,{right:p((()=>[h(n,{class:"action"},{default:p((()=>[h(n,{class:"button",style:{background:"#fa4350"},onClick:a[0]||(a[0]=t=>v("操作1"))},{default:p((()=>[j(V(t.$t("cao-zuo-1")),1)])),_:1}),h(n,{class:"button",style:{background:"#f0883a"},onClick:a[1]||(a[1]=t=>v("操作2"))},{default:p((()=>[j(V(t.$t("cao-zuo-2")),1)])),_:1}),h(n,{class:"button",style:{background:"#4d80f0"},onClick:a[2]||(a[2]=t=>v("操作3"))},{default:p((()=>[j(V(t.$t("cao-zuo-3")),1)])),_:1})])),_:1})])),default:p((()=>[h(u,{title:t.$t("biao-ti-wen-zi-10"),value:"内容"},null,8,["title"])])),_:1})])),_:1},8,["title"]),h(k,{transparent:"",title:t.$t("zuo-you-hua-dong")},{default:p((()=>[h(i,null,{left:p((()=>[h(n,{class:"action"},{default:p((()=>[h(n,{class:"button",style:{background:"#fa4350"}},{default:p((()=>[j(V(t.$t("cao-zuo-1-0")),1)])),_:1}),h(n,{class:"button",style:{background:"#f0883a"}},{default:p((()=>[j(V(t.$t("cao-zuo-2-0")),1)])),_:1}),h(n,{class:"button",style:{background:"#4d80f0"}},{default:p((()=>[j(V(t.$t("cao-zuo-3-0")),1)])),_:1})])),_:1})])),right:p((()=>[h(n,{class:"action"},{default:p((()=>[h(n,{class:"button",style:{background:"#fa4350"}},{default:p((()=>[j(V(t.$t("cao-zuo-4")),1)])),_:1}),h(n,{class:"button",style:{background:"#f0883a"}},{default:p((()=>[j(V(t.$t("cao-zuo-5")),1)])),_:1}),h(n,{class:"button",style:{background:"#4d80f0"}},{default:p((()=>[j(V(t.$t("cao-zuo-6")),1)])),_:1})])),_:1})])),default:p((()=>[h(u,{title:t.$t("biao-ti-wen-zi-10"),value:"内容"},null,8,["title"])])),_:1})])),_:1},8,["title"]),h(k,{transparent:"",title:t.$t("qie-huan-an-niu")},{default:p((()=>[h(i,{modelValue:c.value,"onUpdate:modelValue":a[3]||(a[3]=t=>c.value=t),"before-close":d},{left:p((()=>[h(n,{class:"action"},{default:p((()=>[h(n,{class:"button",style:{background:"#fa4350"}},{default:p((()=>[j(V(t.$t("cao-zuo-1-1")),1)])),_:1}),h(n,{class:"button",style:{background:"#f0883a"}},{default:p((()=>[j(V(t.$t("cao-zuo-2-1")),1)])),_:1}),h(n,{class:"button",style:{background:"#4d80f0"}},{default:p((()=>[j(V(t.$t("cao-zuo-3-1")),1)])),_:1})])),_:1})])),right:p((()=>[h(n,{class:"action"},{default:p((()=>[h(n,{class:"button",style:{background:"#fa4350"}},{default:p((()=>[j(V(t.$t("cao-zuo-4-0")),1)])),_:1}),h(n,{class:"button",style:{background:"#f0883a"}},{default:p((()=>[j(V(t.$t("cao-zuo-5-0")),1)])),_:1}),h(n,{class:"button",style:{background:"#4d80f0"}},{default:p((()=>[j(V(t.$t("cao-zuo-6-0")),1)])),_:1})])),_:1})])),default:p((()=>[h(u,{title:t.$t("biao-ti-wen-zi-10"),value:"内容"},null,8,["title"])])),_:1},8,["modelValue"])])),_:1},8,["title"]),h(n,{class:"button-group"},{default:p((()=>[h(n,{onClick:m(g,["stop"])},{default:p((()=>[h($,{size:"small",onClick:a[4]||(a[4]=t=>r("left"))},{default:p((()=>[j(V(t.$t("da-kai-zuo-bian")),1)])),_:1})])),_:1}),h(n,{onClick:m(g,["stop"])},{default:p((()=>[h($,{size:"small",onClick:a[5]||(a[5]=t=>r("close"))},{default:p((()=>[j(V(t.$t("guan-bi-suo-you")),1)])),_:1})])),_:1}),h(n,{onClick:m(g,["stop"])},{default:p((()=>[h($,{size:"small",onClick:a[6]||(a[6]=t=>r("right"))},{default:p((()=>[j(V(t.$t("da-kai-you-bian")),1)])),_:1})])),_:1})])),_:1}),h(k,{transparent:"",title:t.$t("dian-ji-shi-jian")},{default:p((()=>[h(i,{onClick:f},{right:p((()=>[h(n,{class:"action"},{default:p((()=>[h(n,{class:"button",style:{background:"#fa4350"}},{default:p((()=>[j(V(t.$t("cao-zuo-1-2")),1)])),_:1}),h(n,{class:"button",style:{background:"#f0883a"}},{default:p((()=>[j(V(t.$t("cao-zuo-2-2")),1)])),_:1}),h(n,{class:"button",style:{background:"#4d80f0"}},{default:p((()=>[j(V(t.$t("cao-zuo-3-2")),1)])),_:1})])),_:1})])),default:p((()=>[h(u,{title:t.$t("biao-ti-wen-zi-10"),value:"内容"},null,8,["title"])])),_:1})])),_:1},8,["title"]),h(k,{transparent:"",title:t.$t("jin-yong-hua-dong-an-niu")},{default:p((()=>[h(i,{disabled:""},{right:p((()=>[h(n,{class:"action"},{default:p((()=>[h(n,{class:"button",style:{background:"#fa4350"}},{default:p((()=>[j(V(t.$t("cao-zuo-1-3")),1)])),_:1}),h(n,{class:"button",style:{background:"#f0883a"}},{default:p((()=>[j(V(t.$t("cao-zuo-2-3")),1)])),_:1}),h(n,{class:"button",style:{background:"#4d80f0"}},{default:p((()=>[j(V(t.$t("cao-zuo-3-3")),1)])),_:1})])),_:1})])),default:p((()=>[h(u,{title:t.$t("biao-ti-wen-zi-10"),value:"内容"},null,8,["title"])])),_:1})])),_:1},8,["title"])])),_:1},8,["onClick"])])),_:1})}}}),[["__scopeId","data-v-27de336d"]]);export{S as default};
