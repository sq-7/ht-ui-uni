import{_ as a}from"./ht-search.D_wM0uHf.js";import{d as e,r as n,V as o,c as i,v as t,f as s,g as h,w as u,A as l,p as d,B as c,G as r,J as g,m as p,i as x,t as f,I as v,an as b,z as _,h as m,k as y,l as z,j as T,F as I,H as k,aA as $,L as j,ay as S,u as w,b as C,e as q,x as H}from"./index-Bl407YMq.js";import{b as B,f as V,d as A,_ as M}from"./base64.CiSqhNY6.js";import{u as F,_ as G}from"./ht-loading.DCn6to1m.js";import{u as Y}from"./useChildren.CidG9Z_9.js";import{a as D,_ as E}from"./page-wraper.D_DLAzgo.js";import"./useTranslate.C8VGrN03.js";const J={...B,index:V([String,Number])},L={sticky:A(!1)},N=Symbol("ht-index-bar"),P=M(e({__name:"ht-index-anchor",props:J,setup(a,{expose:e}){const b=a,{parent:_}=F(N),m=n(`indexBar${o()}`),{proxy:y}=v(),z=n(0),T=i((()=>_&&_.props.sticky&&_.anchorState.activeIndex===b.index));return t((()=>{r(`#${m.value}`,!1,y).then((a=>{g(_)&&(z.value=Math.floor(a.top))}))})),e({top:z}),(a,e)=>{const n=p;return s(),h(n,{class:d(`ht-index-anchor ${T.value?"is-sticky":""} ${a.customClass}`),style:c(a.customStyle),id:m.value},{default:u((()=>[l(a.$slots,"default",{},(()=>[x(f(a.index),1)]),!0)])),_:3},8,["class","style","id"])}}}),[["__scopeId","data-v-f2747594"]]),U=M(e({__name:"ht-index-bar",props:L,setup(a){const e=a,i=n(`indexBar${o()}`),{proxy:c}=v(),w=b({activeIndex:null}),{linkChildren:C,children:q}=Y(N);C({props:e,anchorState:w}),_((()=>q),(a=>{a.length?g(w.activeIndex)&&a.find((a=>a.index===w.activeIndex))||(w.activeIndex=a[0].index):w.activeIndex=null}),{deep:!0,immediate:!0});const H=b({scrollTop:0,prevScrollTop:0,touching:!1});let B=0,V={offsetTop:0,indexHeight:24};function A(a){if(H.touching)return;const{detail:e}=a,n=Math.floor(e.scrollTop),o=q.find(((a,e)=>!g(q[e+1])||a.$.exposed.top.value-B<=n&&q[e+1].$.exposed.top.value-B>n));g(o)&&w.activeIndex!==o.index&&(w.activeIndex=o.index),H.prevScrollTop=n}function M(a){const e=a-V.offsetTop;let n=Math.floor(e/V.indexHeight);return n<0?n=0:n>q.length-1&&(n=q.length-1),q[n]}function F(){H.touching=!0}function G(a){const e=a.touches[0].pageY;w.activeIndex!==M(e).index&&(w.activeIndex=M(e).index,E(M(e).$.exposed.top.value-B))}async function D(a){const e=a.changedTouches[0].pageY;w.activeIndex=M(e).index,E(M(e).$.exposed.top.value-B),await j(),H.touching=!1}function E(a){H.scrollTop===a?(H.scrollTop=H.prevScrollTop,S((()=>{H.scrollTop=a}))):H.scrollTop=a}return t((()=>{setTimeout((()=>{Promise.all([r(`#${i.value}`,!1,c),r(".ht-index-bar__sidebar",!1,c),r(".ht-index-bar__index",!1,c)]).then((([a,e,n])=>{B=a.top,V.offsetTop=e.top,V.indexHeight=n.height}))}),100)})),(a,e)=>{const n=$,o=p;return s(),h(o,{class:"ht-index-bar",id:i.value},{default:u((()=>[m(n,{scrollTop:H.scrollTop,"scroll-y":!0,class:"ht-index-bar__content",onScroll:A},{default:u((()=>[l(a.$slots,"default",{},void 0,!0)])),_:3},8,["scrollTop"]),m(o,{class:"ht-index-bar__sidebar",onTouchstart:k(F,["stop","prevent"]),onTouchmove:k(G,["stop","prevent"]),onTouchend:k(D,["stop","prevent"]),onTouchcancel:k(D,["stop","prevent"])},{default:u((()=>[(s(!0),y(I,null,z(T(q),(a=>(s(),h(o,{class:d(["ht-index-bar__index",{"is-active":a.index===w.activeIndex}]),key:a.index},{default:u((()=>[x(f(a.index),1)])),_:2},1032,["class"])))),128))])),_:1})])),_:3},8,["id"])}}}),[["__scopeId","data-v-329e6a1b"]]),K=M(e({__name:"Index",setup(e){const{show:o}=D(),{t:l,locale:d}=w();_((()=>d.value),(()=>{x()})),t((()=>{x()}));const c=n(""),r=n([]),g=i((()=>[{index:"A",data:[l("a-ba"),l("a-la-shan"),l("a-li"),l("an-kang"),l("an-qing"),l("an-shan"),l("an-shun"),l("an-yang"),l("ao-men")]},{index:"B",data:[l("bei-jing"),l("bai-yin"),l("bao-ding"),l("bao-ji"),l("bao-shan"),l("bao-tou"),l("ba-zhong"),l("bei-hai"),l("bang-bu"),l("ben-xi"),l("bi-jie"),l("bin-zhou"),l("bai-se"),l("bo-zhou")]},{index:"C",data:[l("zhong-qing"),l("cheng-du"),l("chang-sha"),l("chang-chun"),l("cang-zhou"),l("chang-de"),l("chang-du"),l("chang-zhi"),l("chang-zhou"),l("chao-hu"),l("chao-zhou"),l("cheng-de"),l("chen-zhou"),l("chi-feng"),l("chi-zhou"),l("chong-zuo"),l("chu-xiong"),l("chu-zhou"),l("zhao-yang")]},{index:"D",data:[l("da-lian"),l("dong-guan"),l("da-li"),l("dan-dong"),l("da-qing"),l("da-tong"),l("da-xing-an-ling"),l("de-hong"),l("de-yang"),l("de-zhou"),l("ding-xi"),l("di-qing"),l("dong-ying")]},{index:"E",data:[l("e-er-duo-si"),l("en-shi"),l("e-zhou")]},{index:"F",data:[l("fu-zhou"),l("fang-cheng-gang"),l("fo-shan"),l("fu-shun"),l("fu-zhou-0"),l("fu-xin"),l("fu-yang")]},{index:"G",data:[l("guang-zhou"),l("gui-lin"),l("gui-yang"),l("gan-nan"),l("gan-zhou"),l("gan-zi"),l("guang-an"),l("guang-yuan"),l("gui-gang"),l("guo-luo")]},{index:"H",data:[l("hang-zhou"),l("ha-er-bin"),l("he-fei"),l("hai-kou"),l("hu-he-hao-te"),l("hai-bei"),l("hai-dong"),l("hai-nan"),l("hai-xi"),l("han-dan"),l("han-zhong"),l("he-bi"),l("he-chi"),l("he-gang"),l("hei-he"),l("heng-shui"),l("heng-yang"),l("he-yuan"),l("he-zhou"),l("hong-he"),l("huai-an"),l("huai-bei"),l("huai-hua"),l("huai-nan"),l("huang-gang"),l("huang-nan"),l("huang-shan"),l("huang-shi"),l("hui-zhou"),l("hu-lu-dao"),l("hu-lun-bei-er"),l("hu-zhou"),l("he-ze")]}]));function x(){r.value=[],S((()=>{c.value?r.value=g.value.filter((a=>a.data.some((a=>a.includes(c.value))))):r.value=g.value}))}function f(){c.value="",x()}return(e,n)=>{const i=C(q("ht-search"),a),t=C(q("ht-index-anchor"),P),d=C(q("ht-cell"),G),g=p,v=C(q("ht-index-bar"),U),b=C(q("page-wraper"),E);return s(),h(b,null,{default:u((()=>[m(i,{"hide-cancel":"",placeholder:e.$t("wo-yao-qu-na-li"),modelValue:c.value,"onUpdate:modelValue":n[0]||(n[0]=a=>c.value=a),onSearch:x,onClear:f},null,8,["placeholder","modelValue"]),m(g,{class:"wraper"},{default:u((()=>[r.value.length?(s(),h(v,{key:0,sticky:""},{default:u((()=>[(s(!0),y(I,null,z(r.value,(a=>(s(),h(g,{key:a.index},{default:u((()=>[m(t,{index:a.index},null,8,["index"]),(s(!0),y(I,null,z(a.data,(e=>(s(),h(d,{border:"",clickable:"",key:e,title:e,onClick:n=>function(a,e){o(l("dang-qian-dian-ji-xiang-index-cheng-shi-city",[a,e]))}(a.index,e)},null,8,["title","onClick"])))),128))])),_:2},1024)))),128))])),_:1})):H("",!0)])),_:1})])),_:1})}}}),[["__scopeId","data-v-057c4fe7"]]);export{K as default};
