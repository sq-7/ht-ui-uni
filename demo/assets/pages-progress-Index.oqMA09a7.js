import{d as e,r as t,c as a,z as r,b as s,e as o,f as l,g as n,w as c,h as u,p as i,B as p,i as g,t as d,x as m,C as h,m as f,J as v,K as b,L as _,M as y}from"./index-Bl407YMq.js";import{b as w,m as x,d as j,a as k,_ as $}from"./base64.CiSqhNY6.js";import{_ as z}from"./demo-block.DyA2odLx.js";import{_ as N}from"./ht-button.8vkNbh4T.js";import{_ as C}from"./page-wraper.D_DLAzgo.js";import"./ht-loading.DCn6to1m.js";const T=$(e({name:"ht-progress",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...w,percentage:x(0),hideText:j(!1),color:{type:[String,Array]},duration:x(30),status:String},setup(e){const w=e,x=t(""),j=t(0),$=t(0);let z=null;const N=a((()=>h({background:x.value,width:`${j.value}%`,"transition-duration":$.value*w.duration*.001+"s"}))),C=a((()=>w.status?`is-${w.status}`:"")),T=a((()=>{let e="";switch(w.status){case"danger":e="close-outline";break;case"success":e="check-outline";break;case"warning":e="warn-bold"}return e}));async function M(){const{percentage:e,color:t}=w;if(!v(t)||b(t)&&0===t.length)return $.value=Math.abs(e-j.value),await _(),void(j.value=e);if(j.value===e)return;const a=b(t)?t:[t];!function(e){const t=(r=e,r.every((e=>"string"==typeof e))),a=O(e);var r;if(!t&&!a)throw Error("Color must be String or Object with color and percentage");if(a&&e.some((({percentage:e})=>Number.isNaN(e))))throw Error("All the percentage must can be formatted to Number")}(a);const r=function(e){const t=100/e.length;return O(e)?e.sort(((e,t)=>e.percentage-t.percentage)):e.map(((e,a)=>({color:e,percentage:(a+1)*t})))}(a);j.value>e?function(e,t){e.some((e=>{if(t<=e.percentage)return S(t,e.color),!0}))}(r,e):function(e,t){e.some(((a,r)=>{if(j.value<a.percentage&&a.percentage<=t)return S(a.percentage,a.color),!0;r===e.length-1&&S(t,a.color)}))}(r,e)}function O(e){return e.every((e=>y(e)&&Object.prototype.hasOwnProperty.call(e,"color")&&Object.prototype.hasOwnProperty.call(e,"percentage")))}function S(e,t){if(z)return;const{duration:a}=w;$.value=Math.abs(e-j.value),setTimeout((()=>{j.value=e,x.value=t,z=setTimeout((()=>{z&&clearTimeout(z),z=null,M()}),$.value*a)}),50)}return r((()=>[w.percentage,w.color,w.duration]),(()=>{var e;e=w.percentage,(Number.isNaN(e)||e<0||e>100)&&console.error("The value of percentage must be between 0 and 100"),M()}),{immediate:!0}),(e,t)=>{const a=f,r=s(o("ht-icon"),k);return l(),n(a,{class:i(`ht-progress ${e.customClass}`),style:p(e.customStyle)},{default:c((()=>[u(a,{class:"ht-progress__outer"},{default:c((()=>[u(a,{class:i(`ht-progress__inner ${C.value}`),style:p(N.value)},null,8,["class","style"])])),_:1}),e.hideText?e.status?(l(),n(r,{key:1,"custom-class":`ht-progress__label ht-progress__icon ${C.value}`,name:T.value,color:"string"==typeof e.color?e.color:""},null,8,["custom-class","name","color"])):m("",!0):(l(),n(a,{key:0,class:"ht-progress__label"},{default:c((()=>[g(d(e.percentage)+"%",1)])),_:1}))])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-be7f9128"]]),M=e({__name:"Index",setup(e){const a=t(30),r=t(100),i=t(50),p=()=>{i.value=Math.min(i.value+10,100)},d=()=>{i.value=Math.max(i.value-10,0)},m=t([{color:"yellow",percentage:30},{color:"red",percentage:60},{color:"blue",percentage:80},{color:"black",percentage:90}]);return(e,t)=>{const h=s(o("ht-progress"),T),f=s(o("demo-block"),z),v=s(o("ht-button"),N),b=s(o("page-wraper"),C);return l(),n(b,null,{default:c((()=>[u(f,{title:e.$t("jiBenYongFa")},{default:c((()=>[u(h,{percentage:a.value},null,8,["percentage"])])),_:1},8,["title"]),u(f,{title:e.$t("bu-xian-shi-jin-du-wen-zi")},{default:c((()=>[u(h,{percentage:60,"hide-text":""})])),_:1},8,["title"]),u(f,{title:e.$t("jin-du-tiao-zhuang-tai")},{default:c((()=>[u(h,{percentage:100,"hide-text":"",status:"success"}),u(h,{percentage:80,"hide-text":"",status:"danger"}),u(h,{percentage:90,"hide-text":"",status:"warning"})])),_:1},8,["title"]),u(f,{title:e.$t("xiu-gai-yan-se")},{default:c((()=>[u(h,{percentage:80,color:"#00c740"})])),_:1},8,["title"]),u(f,{title:e.$t("yan-se-shu-zu")},{default:c((()=>[u(h,{percentage:100,color:["#00c740","#ffb300","#e2231a","#0083ff"]}),u(h,{percentage:r.value,color:m.value},null,8,["percentage","color"])])),_:1},8,["title"]),u(f,{title:e.$t("dong-tai-she-zhi")},{default:c((()=>[u(h,{percentage:i.value},null,8,["percentage"]),u(v,{"custom-style":"margin-right: 10px;",onClick:p,type:"success",size:"small"},{default:c((()=>[g("+10")])),_:1}),u(v,{onClick:d,type:"error",size:"small"},{default:c((()=>[g("-10")])),_:1})])),_:1},8,["title"])])),_:1})}}});export{M as default};
