import{b as i,c as t,d as a,m as e,a as n,_ as o}from"./base64.CiSqhNY6.js";import{d as l,r as s,c as u,an as r,z as x,v as h,aF as c,a7 as d,ay as g,b as y,e as f,f as p,g as v,w as b,A as m,h as z,B as _,k,F as w,l as $,i as j,t as q,x as C,p as D,C as F,J as T,K as I,m as S,G as A,I as P,u as G,aG as B}from"./index-Bl407YMq.js";import{_ as Y}from"./demo-block.DyA2odLx.js";import{_ as H}from"./ht-button.8vkNbh4T.js";import{_ as J}from"./page-wraper.D_DLAzgo.js";import"./ht-loading.DCn6to1m.js";const K=o(l({name:"ht-notice-bar",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...i,text:{type:[String,Array],default:""},type:t("warning"),scrollable:a(!0),delay:e(1),speed:e(50),closable:a(!1),wrapable:a(!1),prefix:String,color:String,backgroundColor:String,direction:t("horizontal")},emits:["close","next","click"],setup(i,{expose:t,emit:a}){const e=".ht-notice-bar__wrap",o=".ht-notice-bar__content",l=i,G=a,B=s(0),Y=s(!0),H=s(0),J=u((()=>Array.isArray(l.text)?l.text:[l.text])),K=u((()=>J.value[H.value])),N=s(0),X=s(null),E=s(null),L=u((()=>"horizontal"===l.direction)),M=u((()=>"vertical"===l.direction)),O=r({transitionProperty:"unset",transitionDelay:"unset",transitionDuration:"unset",transform:"none",transitionTimingFunction:"linear"}),Q=u((()=>F(O))),R=u((()=>{const i={};return T(l.color)&&(i.color=l.color),T(l.backgroundColor)&&(i.background=l.backgroundColor),`${F(i)};${l.customStyle}`})),U=u((()=>{const{type:i,wrapable:t,scrollable:a}=l;let e=[];return i&&e.push(`is-${i}`),L.value?!t&&!a&&e.push("ht-notice-bar--ellipse"):e.push("ht-notice-bar--ellipse"),t&&!a&&e.push("ht-notice-bar--wrap"),e.join(" ")})),{proxy:V}=P();function W(){ii(),Z()}function Z(){g((()=>async function(){const[i,t]=await ei();if(!i.width||!t.width||!t.height)return;X.value=i,E.value=t,B.value=i.width,L.value?l.scrollable&&ai({duration:t.width/l.speed,delay:l.delay,translate:-t.width}):J.value.length>1&&ni(t.height)}()))}function ii(){O.transitionProperty="unset",O.transitionDelay="unset",O.transitionDuration="unset",O.transform="none",O.transitionTimingFunction="linear",H.value=0,N.value=0}function ti(){Y.value=!1,G("close")}function ai({duration:i,delay:t,translate:a}){O.transitionProperty="all",O.transitionDelay=`${t}s`,O.transitionDuration=`${i}s`,O.transform=`${"vertical"===l.direction?"translateY":"translateX"}(${a}px)`,O.transitionTimingFunction="linear"}function ei(){return Promise.all([A(e,!1,V),A(o,!1,V)])}async function ni(i){const t=-i/(J.value.length+1)*(H.value+1);ai({duration:i/(J.value.length+1)/l.speed,delay:l.delay,translate:t})}function oi(){L.value?ai({duration:0,delay:0,translate:B.value+1}):++N.value>=J.value.length&&(N.value=0,ai({duration:0,delay:0,translate:0}));const i=setTimeout((()=>{H.value>=J.value.length-1?H.value=0:H.value++,G("next",H.value),g((async()=>{try{const[i,t]=await ei();X.value=i,E.value=t,B.value=i.width||0}catch(i){}E.value&&E.value.width&&E.value.height&&(L.value?ai({duration:(B.value+E.value.width)/l.speed,delay:l.delay,translate:-E.value.width}):ni(E.value.height))})),clearTimeout(i)}),20)}function li(){const i=I(l.text)?{index:H.value,text:l.text[H.value]}:{index:0,text:l.text};G("click",i)}return x((()=>l.text),(()=>{W()}),{deep:!0}),h((()=>{Z()})),c((()=>{Z()})),d((()=>{ii()})),t({reset:W}),(i,t)=>{const a=y(f("ht-icon"),n),e=S;return Y.value?(p(),v(e,{key:0,class:D(`ht-notice-bar ${i.customClass} ${U.value}`),style:_(R.value)},{default:b((()=>[i.prefix?(p(),v(a,{key:0,"custom-class":"ht-notice-bar__prefix",name:i.prefix},null,8,["name"])):m(i.$slots,"prefix",{key:1},void 0,!0),z(e,{class:"ht-notice-bar__wrap"},{default:b((()=>[z(e,{class:"ht-notice-bar__content",style:_(Q.value),onTransitionend:oi,onClick:li},{default:b((()=>[M.value?(p(),k(w,{key:0},[(p(!0),k(w,null,$(J.value,(i=>(p(),v(e,{key:i},{default:b((()=>[j(q(i),1)])),_:2},1024)))),128)),J.value.length>1?(p(),v(e,{key:0},{default:b((()=>[j(q(J.value[0]),1)])),_:1})):C("",!0)],64)):m(i.$slots,"default",{key:1},(()=>[j(q(K.value),1)]),!0)])),_:3},8,["style"])])),_:3}),i.closable?(p(),v(a,{key:2,"custom-class":"ht-notice-bar__suffix",name:"close-bold",onClick:ti})):m(i.$slots,"suffix",{key:3},void 0,!0)])),_:3},8,["class","style"])):C("",!0)}}}),[["__scopeId","data-v-a1a7d365"]]),N=o(l({__name:"Index",setup(i){const{t:t}=G(),a=s();function e(){var i;null==(i=a.value)||i.reset()}const o=s([t("huan-ying-shi-yong-ht-ui-uni"),t("gai-zu-jian-ku-ji-yu-uniapp-vue3-ts-gou-jian"),t("xiang-mu-di-zhi-httpsgithubcommoonofweishengwotdesignuni"),t("wo-men-de-mu-biao-shi-da-zao-zui-qiang-uniapp-zu-jian-ku"),t("cheng-zhi-yao-qing-da-jia-gong-tong-jian-she"),t("zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi")]),l=i=>{console.log("展示下一条，index: ",i),console.log("文本是："+o.value[i])};function u(i){console.log(i)}return(i,t)=>{const s=y(f("ht-notice-bar"),K),r=y(f("demo-block"),Y),x=y(f("ht-icon"),n),h=y(f("ht-button"),H),c=S,d=y(f("page-wraper"),J);return p(),v(d,null,{default:b((()=>[z(c,null,{default:b((()=>[z(r,{title:i.$t("jiBenYongFa")},{default:b((()=>[z(s,{text:i.$t("zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi"),prefix:"warn-bold"},null,8,["text"])])),_:1},8,["title"]),z(r,{title:i.$t("lei-xing-xiu-gai")},{default:b((()=>[z(s,{type:"danger",text:i.$t("dang-qian-wang-luo-bu-ke-yong-qing-jian-cha-ni-de-wang-luo-she-zhi-dang-qian-wang-luo-bu-ke-yong-qing-jian-cha-ni-de-wang-luo-she-zhi"),prefix:"wifi-error","custom-class":"space"},null,8,["text"]),z(s,{type:"info",text:i.$t("dian-ji-cha-kan-xin-xi-xiang-qing-dian-ji-cha-kan-xin-xi-xiang-qing-dian-ji-cha-kan-xin-xi-xiang-qing-dian-ji-cha-kan-xin-xi-xiang-qing-dian-ji-cha-kan-xin-xi-xiang-qing"),prefix:"check-outline"},null,8,["text"])])),_:1},8,["title"]),z(r,{title:i.$t("jin-zhi-gun-dong")},{default:b((()=>[z(s,{scrollable:!1,text:i.$t("yu-mai-gui-hua-tong-zai-jiu-zhong-bu-si-shao-nian-you"),prefix:"warn-bold"},null,8,["text"])])),_:1},8,["title"]),z(r,{title:i.$t("cha-cao")},{default:b((()=>[z(s,{scrollable:!1},{prefix:b((()=>[z(x,{"custom-class":"prefix",name:"warn-bold"},{default:b((()=>[j(q(i.$t("zhan-wei-fu")),1)])),_:1})])),suffix:b((()=>[B("div",{style:{color:"#4d80f0"}},q(i.$t("cha-kan")),1)])),default:b((()=>[j(" "+q(i.$t("tong-zhi-bei-jin-huo-shi-duan-nei-xiao-xi-ping-bi-ke-neng-zao-cheng-xiao"))+" ",1)])),_:1})])),_:1},8,["title"]),z(r,{title:i.$t("ke-guan-bi-de")},{default:b((()=>[z(s,{text:i.$t("zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-0"),closable:"",prefix:"warn-bold"},null,8,["text"])])),_:1},8,["title"]),z(r,{title:i.$t("duo-hang-zhan-shi")},{default:b((()=>[z(s,{text:i.$t("zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi"),wrapable:"",scrollable:!1},null,8,["text"])])),_:1},8,["title"]),z(r,{title:i.$t("zi-ding-yi-yan-se-0")},{default:b((()=>[z(s,{text:i.$t("zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-zhe-shi-yi-tiao-xiao-xi-ti-shi-xin-xi-1"),prefix:"check-outline",color:"#34D19D","background-color":"#f0f9eb"},null,8,["text"])])),_:1},8,["title"]),z(r,{title:i.$t("duo-wen-ben-lun-bo")},{default:b((()=>[z(s,{onClick:u,text:o.value,prefix:"check-outline",onNext:l},null,8,["text"])])),_:1},8,["title"]),z(r,{title:i.$t("chui-zhi-gun-dong")},{default:b((()=>[z(s,{onClick:u,prefix:"warn-bold",direction:"vertical",text:o.value,delay:3,"custom-class":"space"},null,8,["text"]),z(s,{onClick:u,prefix:"warn-bold",direction:"vertical",text:i.$t("zhi-you-yi-tiao-xiao-xi-bu-hui-gun-dong"),delay:3,"custom-class":"space"},null,8,["text"])])),_:1},8,["title"]),z(r,{title:i.$t("zhong-zhi-bo-fang-dong-hua")},{default:b((()=>[z(s,{ref_key:"notice",ref:a,prefix:"warn-bold",direction:"vertical",text:o.value,delay:3,"custom-class":"space"},null,8,["text"]),z(h,{onClick:e},{default:b((()=>[j(q(i.$t("zhong-zhi-bo-fang-dong-hua-0")),1)])),_:1})])),_:1},8,["title"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-7f5f4ab2"]]);export{N as default};
