import{d as e,r as s,c as l,V as t,v as a,az as o,f as r,g as i,w as c,h,A as u,j as n,p,B as d,D as v,C as f,I as _,m as g,aA as m}from"./index-Bl407YMq.js";import{b as w,c as z,_ as x}from"./base64.CiSqhNY6.js";const y=x(e({name:"ht-resize",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...w,customContainerClass:z("")},emits:["resize"],setup(e,{emit:w}){const z=e,x=w,y=s(0),C=s(0),$=s(0),b=s(0),S=s(0),H=s(0),j=s(0),I=l((()=>{const e={width:v(H.value),height:v(S.value)};return`${f(e)};${z.customStyle}`}));let W=()=>{};const{proxy:A}=_(),E=s(`resize${t()}`);function R({lastWidth:e,lastHeight:s}){y.value=1e5+s,C.value=3*S.value+s,$.value=1e5+e,b.value=3*H.value+e}return a((()=>{o().in(A).select(`#${E.value}`).boundingClientRect().exec((([e])=>{let s=e.height,l=e.width;S.value=s,H.value=l,W=()=>{o().in(A).select(`#${E.value}`).boundingClientRect().exec((([e])=>{if(0==j.value++){const s={};["bottom","top","left","right","height","width"].forEach((l=>{s[l]=e[l]})),x("resize",s)}if(j.value<3)return;const t=e.height,a=e.width;S.value=t,H.value=a;const o=[];if(t!==s&&(s=t,o.push(1)),a!==l&&(l=a,o.push(1)),0!==o.length){const s={};["bottom","top","left","right","height","width"].forEach((l=>{s[l]=e[l]})),x("resize",s)}R({lastWidth:l,lastHeight:s})}))},R({lastWidth:l,lastHeight:s})}))})),(e,s)=>{const l=g,t=m;return r(),i(l,{class:p(`ht-resize ${e.customClass}`),style:d(I.value)},{default:c((()=>[h(l,{id:E.value,class:p(`ht-resize__container ${e.customContainerClass}`)},{default:c((()=>[u(e.$slots,"default",{},void 0,!0),h(t,{class:"ht-resize__wrapper","scroll-y":!0,"scroll-top":y.value,"scroll-x":!0,"scroll-left":$.value,onScroll:n(W)},{default:c((()=>[h(l,{class:"ht-resize__wrapper--placeholder",style:{height:"100000px",width:"100000px"}})])),_:1},8,["scroll-top","scroll-left","onScroll"]),h(t,{class:"ht-resize__wrapper","scroll-y":!0,"scroll-top":C.value,"scroll-x":!0,"scroll-left":b.value,onScroll:n(W)},{default:c((()=>[h(l,{class:"ht-resize__wrapper--placeholder",style:{height:"250%",width:"250%"}})])),_:1},8,["scroll-top","scroll-left","onScroll"])])),_:3},8,["id","class"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-ee716251"]]);export{y as _};
