import{b as e,c as a,d as t,f as s,g as l,m as n,a as o,_ as c}from"./base64.CiSqhNY6.js";import{d as i,r as d,z as u,b as r,e as m,f as h,g as p,w as _,h as f,p as k,B as g,i as b,t as y,x,k as C,l as v,F as z,A as I,m as $,ag as A,s as V,K as w}from"./index-Bl407YMq.js";import{c as B,b as O}from"./ht-loading.DCn6to1m.js";const j=c(i({name:"ht-action-sheet",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...e,customHeaderClass:a(""),modelValue:{...t(!1),...s(Boolean)},actions:l(),panels:l(),title:String,cancelText:String,closeOnClickAction:t(!0),closeOnClickModal:t(!0),duration:n(200),zIndex:n(10),lazyRender:t(!0),safeAreaInsetBottom:t(!0)},emits:["select","click-modal","cancel","closed","close","open","opened","update:modelValue"],setup(e,{emit:a}){const t=e,s=a,l=d([]),n=d(!1);function c(){return t.panels.length&&!w(t.panels[0])}function i(e,a,l){if("action"===a){if(t.actions[e].disabled||t.actions[e].loading)return;s("select",{item:t.actions[e],index:e})}else c()?s("select",{item:t.panels[Number(l)],index:l}):s("select",{item:t.panels[e][Number(l)],rowIndex:e,colIndex:l});t.closeOnClickAction&&M()}function j(){s("click-modal")}function H(){s("cancel"),M()}function M(){s("update:modelValue",!1),s("close")}function S(){s("open")}function T(){s("opened")}function E(){s("closed")}return u((()=>t.panels),(function(){l.value=c()?[t.panels]:t.panels}),{deep:!0,immediate:!0}),u((()=>t.modelValue),(e=>{n.value=e}),{deep:!0,immediate:!0}),(e,a)=>{const t=r(m("ht-icon"),o),s=$,c=r(m("ht-loading"),B),d=A,u=V,w=r(m("ht-popup"),O);return h(),p(s,null,{default:_((()=>[f(w,{"custom-class":"ht-action-sheet__popup","custom-style":""+(e.actions&&e.actions.length||e.panels&&e.panels.length?"background: transparent;":""),modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=e=>n.value=e),duration:e.duration,position:"bottom","close-on-click-modal":e.closeOnClickModal,"safe-area-inset-bottom":e.safeAreaInsetBottom,"lazy-render":e.lazyRender,onEnter:S,onClose:M,onAfterEnter:T,onAfterLeave:E,onClickModal:j,"z-index":e.zIndex},{default:_((()=>[f(s,{class:k(`ht-action-sheet ${e.customClass}`),style:g(`${e.actions&&e.actions.length||e.panels&&e.panels.length?"margin: 0 10px calc(var(--window-bottom) + 10px) 10px; border-radius: 16px;":"margin-bottom: var(--window-bottom);"} ${e.customStyle}`)},{default:_((()=>[e.title?(h(),p(s,{key:0,class:k(`ht-action-sheet__header ${e.customHeaderClass}`)},{default:_((()=>[b(y(e.title)+" ",1),f(t,{"custom-class":"ht-action-sheet__close",name:"add",onClick:M})])),_:1},8,["class"])):x("",!0),e.actions&&e.actions.length?(h(),p(s,{key:1,class:"ht-action-sheet__actions"},{default:_((()=>[(h(!0),C(z,null,v(e.actions,((e,a)=>(h(),p(d,{key:a,class:k(`ht-action-sheet__action ${e.disabled?"ht-action-sheet__action--disabled":""}  ${e.loading?"ht-action-sheet__action--loading":""}`),style:g(`color: ${e.color}`),onClick:e=>i(a,"action")},{default:_((()=>[e.loading?(h(),p(c,{key:0,"custom-class":"`ht-action-sheet__action-loading"})):(h(),p(s,{key:1,class:"ht-action-sheet__name"},{default:_((()=>[b(y(e.name),1)])),_:2},1024)),!e.loading&&e.subname?(h(),p(s,{key:2,class:"ht-action-sheet__subname"},{default:_((()=>[b(y(e.subname),1)])),_:2},1024)):x("",!0)])),_:2},1032,["class","style","onClick"])))),128))])),_:1})):x("",!0),l.value&&l.value.length?(h(),p(s,{key:2},{default:_((()=>[(h(!0),C(z,null,v(l.value,((e,a)=>(h(),p(s,{key:a,class:"ht-action-sheet__panels"},{default:_((()=>[f(s,{class:"ht-action-sheet__panels-content"},{default:_((()=>[(h(!0),C(z,null,v(e,((e,t)=>(h(),p(s,{key:t,class:"ht-action-sheet__panel",onClick:e=>i(a,"panels",t)},{default:_((()=>[f(u,{class:"ht-action-sheet__panel-img",src:e.iconUrl},null,8,["src"]),f(s,{class:"ht-action-sheet__panel-title"},{default:_((()=>[b(y(e.title),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1024)])),_:2},1024)))),128))])),_:1})):x("",!0),I(e.$slots,"default",{},void 0,!0),e.cancelText?(h(),p(d,{key:3,class:"ht-action-sheet__cancel",onClick:H},{default:_((()=>[b(y(e.cancelText),1)])),_:1})):x("",!0)])),_:3},8,["class","style"])])),_:3},8,["custom-style","modelValue","duration","close-on-click-modal","safe-area-inset-bottom","lazy-render","z-index"])])),_:3})}}}),[["__scopeId","data-v-b2c3420f"]]);export{j as _};
