import{_ as t}from"./ht-text.BYeSSIs1.js";import{d as e,c as a,z as s,v as o,b as r,e as i,f as l,g as n,w as u,A as f,p as c,am as p,m as d,h as m,b6 as x,r as h}from"./index-Bl407YMq.js";import{b as y,m as V,c as z,d as g,_}from"./base64.CiSqhNY6.js";import{u as b}from"./useCountDown.BZtSveGx.js";import{_ as j}from"./demo-block.DyA2odLx.js";import{_ as $,a as v}from"./ht-grid.m7nNAw35.js";import{_ as S}from"./page-wraper.D_DLAzgo.js";import"./dayjs.BQz75yJF.js";import"./useRaf.0FhUEwSb.js";import"./ht-badge.DwY2PHaM.js";import"./ht-loading.DCn6to1m.js";import"./useChildren.CidG9Z_9.js";const k=_(e({name:"ht-count-to",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...y,fontSize:V(16),color:z(""),type:z("default"),startVal:V(0),endVal:V(2024),duration:V(3e3),autoStart:g(!0),decimals:{type:Number,required:!1,default:0,validator:t=>t>=0},decimal:z("."),separator:z(","),prefix:z(""),suffix:z(""),useEasing:g(!0),customStyle:z(""),customClass:z("")},emits:["mounted","finish"],setup(e,{expose:h,emit:y}){const V=e,z=y,{start:g,pause:_,reset:j,current:$}=b({time:V.duration,millisecond:!0,onFinish:()=>z("finish")}),v=a((()=>`ht-count-to ${V.customClass}`)),S=a((()=>function(t){const{startVal:e,endVal:a,duration:s,useEasing:o}=V,r=s-t,i=e>a,l=r/s;let n;n=o?i?e-x(r,0,e-a,s)||0:x(r,e,a-e,s):i?e-(e-a)*l:e+(a-e)*l;return n=i?Math.max(a,n):Math.min(a,n),function(t){if("number"!=typeof t&&(t=parseFloat(t),isNaN(t)))return"0";const e=(t=t.toFixed(V.decimals)).split(".");let a=e[0];const s=e.length>1?V.decimal+e[1]:"",o=/(\d+)(\d{3})/;if(V.separator&&!p(V.separator))for(;o.test(a);)a=a.replace(o,"$1"+V.separator+"$2");return a+s}(n)}($.value.total)));function k(){j(V.duration),V.autoStart&&g()}return s([()=>V.startVal,()=>V.endVal,()=>V.duration],k,{immediate:!1}),o((()=>{k(),z("mounted")})),h({start:g,reset:k,pause:_}),(e,a)=>{const s=r(i("ht-text"),t),o=d;return l(),n(o,{class:c(v.value)},{default:u((()=>[f(e.$slots,"prefix",{},(()=>[m(s,{type:V.type,color:V.color,size:.7*V.fontSize+"px",text:V.prefix},null,8,["type","color","size","text"])]),!0),f(e.$slots,"default",{},(()=>[m(s,{type:V.type,color:V.color,size:`${V.fontSize}px`,text:S.value},null,8,["type","color","size","text"])]),!0),f(e.$slots,"suffix",{},(()=>[m(s,{type:V.type,color:V.color,size:.7*V.fontSize+"px",text:V.suffix},null,8,["type","color","size","text"])]),!0)])),_:3},8,["class"])}}}),[["__scopeId","data-v-ea930cc2"]]),C=e({__name:"Index",setup(t){const e=h(2024),a=h(),s=()=>{a.value.start()},o=()=>{a.value.pause()},f=()=>{a.value.reset()};return(t,c)=>{const p=r(i("ht-count-to"),k),d=r(i("demo-block"),j),x=r(i("ht-grid-item"),$),h=r(i("ht-grid"),v),y=r(i("page-wraper"),S);return l(),n(y,null,{default:u((()=>[m(d,{title:t.$t("jiBenYongFa")},{default:u((()=>[m(p,{endVal:e.value,suffix:"年",color:"#16baaa"},null,8,["endVal"]),m(p,{prefix:"￥",decimals:2,endVal:186.321,fontSize:32,suffix:"%",color:"#1e9fff"}),m(p,{prefix:"￥",decimals:2,endVal:21286.321,fontSize:32,suffix:"%",color:"#ff5722"}),m(p,{prefix:"￥",decimals:2,endVal:21286.321,fontSize:32,suffix:"%",color:"#ffb800",duration:2e3})])),_:1},8,["title"]),m(d,{title:t.$t("she-zhi-zhu-ti")},{default:u((()=>[m(p,{type:"primary",prefix:"￥",startVal:0,endVal:888888,suffix:"%"}),m(p,{type:"error",prefix:"￥",startVal:0,endVal:888888,suffix:"%"}),m(p,{type:"success",prefix:"￥",startVal:0,endVal:888888,suffix:"%"}),m(p,{type:"warning",prefix:"￥",startVal:0,endVal:888888,suffix:"%"}),m(p,{prefix:"￥",startVal:0,endVal:888888,suffix:"%"})])),_:1},8,["title"]),m(d,{title:t.$t("shou-dong-kong-zhi")},{default:u((()=>[m(p,{ref_key:"countTo",ref:a,"auto-start":!1,prefix:"￥",startVal:1e3,decimals:3,endVal:9999.32,fontSize:32,suffix:"%",color:"#1e9fff"},null,512),m(h,{clickable:"",border:""},{default:u((()=>[m(x,{text:t.$t("kai-shi"),icon:"play-circle-stroke",onItemclick:s},null,8,["text"]),m(x,{text:t.$t("zan-ting"),icon:"pause-circle",onItemclick:o},null,8,["text"]),m(x,{text:t.$t("zhong-zhi"),icon:"refresh",onItemclick:f},null,8,["text"])])),_:1})])),_:1},8,["title"])])),_:1})}}});export{C as default};
