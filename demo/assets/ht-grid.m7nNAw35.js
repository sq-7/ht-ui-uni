import{d as e,r as s,c as t,z as a,v as o,b as r,e as l,f as i,g as n,w as u,h as p,A as c,k as d,B as m,au as g,i as h,t as b,F as v,p as $,J as f,av as x,P as k,aQ as y,a3 as C,aR as _,q as S,m as I,Q as T,aN as w}from"./index-Bl407YMq.js";import{b as q,d as z,c as j,n as P,a as N,_ as B}from"./base64.CiSqhNY6.js";import{_ as D}from"./ht-badge.DwY2PHaM.js";import{u as G}from"./ht-loading.DCn6to1m.js";import{u as H}from"./useChildren.CidG9Z_9.js";const Q=Symbol("ht-grid"),A={...q,clickable:z(!1),square:z(!1),column:Number,border:z(!1),bgColor:j(""),gutter:Number,hoverClass:String},E=B(e({name:"ht-grid-item",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...q,customText:j(""),customIcon:j(""),icon:j(""),iconSize:j("26px"),text:String,url:String,linkType:j("navigateTo"),useSlot:z(!1),useIconSlot:z(!1),useTextSlot:z(!1),isDot:{type:Boolean,default:void 0},type:String,value:P,max:Number,badgeProps:Object},emits:["itemclick"],setup(e,{expose:w,emit:q}){const z=e,j=q,P=s(""),B=s(""),H=s(""),A=s(0),E=s(!1),F=s(!0),{parent:J}=G(Q),L=t((()=>f(J)&&f(J.children)?J.children.length:0)),O=t((()=>x(f(z.badgeProps)?k(z.badgeProps,T):{},k({max:z.max,isDot:z.isDot,modelValue:z.value,type:z.type},T))));function R(){if(!J)return;const e=J.children,s=J.props.column?100/J.props.column+"%":100/e.length+"%",t=J.props.gutter?`padding:${J.props.gutter}px ${J.props.gutter}px 0 0; background-color: transparent;`:"",a=J.props.square?`background-color:transparent; padding-bottom: 0; padding-top:${s}`:"";B.value=J.props.gutter&&J.props.square?`right: ${J.props.gutter}px; bottom:${J.props.gutter}px;height: auto; background-color: ${J.props.bgColor}`:`background-color: ${J.props.bgColor}`,F.value=Boolean(J.props.border),E.value=Boolean(J.props.square),A.value=Number(J.props.gutter),P.value=`width: ${s}; ${a||t}`}function V(){if(J&&!J.props.clickable)return;const{url:e,linkType:s}=z;if(j("itemclick"),e)switch(s){case"navigateTo":S({url:e});break;case"reLaunch":_({url:e});break;case"redirectTo":C({url:e});break;case"switchTab":y({url:e});break;default:console.error(`[ht-design] warning(ht-grid-item): linkType can not be ${s}`)}}a((()=>L.value),(()=>{if(!J)return;const e=J.props.column?100/J.props.column+"%":100/(L.value||1)+"%",s=J.props.gutter?`padding:${J.props.gutter}px ${J.props.gutter}px 0 0; background-color: transparent;`:"",t=J.props.square?`background-color:transparent; padding-bottom: 0; padding-top:${e}`:"";P.value=`width: ${e}; ${t||s}`}),{deep:!0,immediate:!0}),o((()=>{R()}));const K=t((()=>(null==J?void 0:J.props.clickable)?J.props.hoverClass?J.props.hoverClass:"ht-grid-item__content--hover":"none"));return w({setiIemClass:function(e){H.value=e},itemClass:H,init:R}),(e,s)=>{const t=r(l("ht-icon"),N),a=r(l("ht-badge"),D),o=I;return i(),n(o,{class:$(`ht-grid-item ${F.value&&!A.value?H.value:""} ${e.customClass}`),onClick:V,style:m(`${P.value};${e.customStyle}`)},{default:u((()=>[p(o,{class:$(`ht-grid-item__content ${E.value?"is-square":""} ${F.value&&A.value>0?"is-round":""}`),style:m(B.value),"hover-class":K.value},{default:u((()=>[e.useSlot?c(e.$slots,"default",{key:0},void 0,!0):(i(),d(v,{key:1},[p(o,{style:m("width:"+e.iconSize+"; height: "+e.iconSize),class:"ht-grid-item__wrapper"},{default:u((()=>[p(a,g({"custom-class":"badge"},O.value),{default:u((()=>[e.useIconSlot?c(e.$slots,"icon",{key:0},void 0,!0):(i(),n(t,{key:1,name:e.icon,size:e.iconSize,"custom-class":e.customIcon},null,8,["name","size","custom-class"]))])),_:3},16)])),_:3},8,["style"]),e.useTextSlot?c(e.$slots,"text",{key:0},void 0,!0):(i(),n(o,{key:1,class:"ht-grid-item__text custom-text"},{default:u((()=>[h(b(e.text),1)])),_:1}))],64))])),_:3},8,["class","style","hover-class"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-1be4ffa3"]]),F=B(e({name:"ht-grid",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:A,setup(e){const s=()=>new Promise((e=>setTimeout(e,20))),o=e,{linkChildren:r,children:l}=H(Q);r({props:o}),a((()=>o.column),((e,s)=>{e!==s&&((!e||e<=0)&&console.error("The number of columns attribute value is invalid. The attribute must be greater than 0 and it is not recommended to use a larger value attribute."),s&&g())}),{deep:!0,immediate:!0}),a((()=>o.border),(e=>{e&&Promise.resolve().then(s).then((()=>{g()}))}),{deep:!0,immediate:!0}),a((()=>l),(()=>{d()}),{deep:!0});const p=t((()=>`${o.gutter?"padding-left:"+o.gutter+"px;padding-bottom:"+o.gutter+"px;":""}${o.customStyle}`)),d=w((()=>{g()}),50);function g(){l&&l.forEach(((e,s)=>{if(o.border){const{column:t}=o;if(t){const a=l.length-1===s||(s+1)%t==0,o=s+1<=t;o&&e.$.exposed.setiIemClass("is-first"),a&&e.$.exposed.setiIemClass("is-right"),!o&&e.$.exposed.setiIemClass("is-border")}else e.$.exposed.setiIemClass("is-first");l.length-1===s&&e.$.exposed.setiIemClass(e.$.exposed.itemClass.value+" is-last")}e.$.exposed.init()}))}return(e,s)=>{const t=I;return i(),n(t,{class:$(`ht-grid ${e.customClass}`),style:m(p.value)},{default:u((()=>[c(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-c19afb06"]]);export{E as _,F as a};
