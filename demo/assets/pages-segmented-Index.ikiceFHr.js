import{b as a,_ as e}from"./page-wraper.D_DLAzgo.js";import{d as t,an as s,c as l,z as n,v as i,L as o,G as u,D as d,C as r,M as p,f as v,g as c,w as m,k as f,l as g,F as h,h as _,p as b,B as y,m as x,j as $,A as k,i as z,t as j,b2 as I,I as q,u as C,r as S,b as w,e as U,s as A}from"./index-Bl407YMq.js";import{b as L,f as V,d as G,c as N,_ as B}from"./base64.CiSqhNY6.js";import{_ as D}from"./demo-block.DyA2odLx.js";import{_ as E}from"./ht-button.8vkNbh4T.js";import{b as F}from"./ht-loading.DCn6to1m.js";const H=B(t({name:"ht-segmented",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...L,value:V([String,Number]),disabled:G(!1),size:N("middle"),options:{type:Array,required:!0,default:()=>[]},vibrateShort:G(!1)},emits:["update:value","change","click"],setup(a,{expose:e,emit:t}){const C=".ht-segmented__item",S=a,w=t,U=s({activeIndex:0,activeStyle:""}),A=l((()=>S.disabled||!(!S.options[0]||!p(S.options[0]))&&S.options[0].disabled));n((()=>S.value),(()=>{G(),V(),S.vibrateShort&&I({})}),{immediate:!1});const{proxy:L}=q();function V(a=!0){u(C,!0,L).then((e=>{const t=e[U.activeIndex],s={position:"absolute",width:d(t.width),"z-index":0},l=e.slice(0,U.activeIndex).reduce(((a,e)=>a+Number(e.width)),0);l&&(s.transform=`translateX(${l}px)`),a&&(s.transition="all 0.2s cubic-bezier(0.645, 0.045, 0.355, 1)"),U.activeStyle=r(s)}))}function G(){const a=S.options.findIndex((a=>(p(a)?a.value:a)==S.value));if(a>=0)U.activeIndex=a;else{const a=p(S.options[0])?S.options[0].value:S.options[0];w("update:value",a),w("change",p(S.options[0])?S.options[0]:{value:a})}}return i((async()=>{G(),await o(),V(!1)})),e({updateActiveStyle:V}),(a,e)=>{const t=x;return v(),c(t,{class:b(`ht-segmented ${a.customClass}`),style:y(a.customStyle)},{default:m((()=>[(v(!0),f(h,null,g(a.options,((e,s)=>(v(),c(t,{class:b(`ht-segmented__item is-${a.size} ${U.activeIndex===s?"is-active":""} ${a.disabled||$(p)(e)&&e.disabled?"is-disabled":""}`),onClick:a=>function(a,e){if(S.disabled||p(a)&&a.disabled)return;const t=p(a)?a.value:a;U.activeIndex=e,V(),w("update:value",t),w("change",p(a)?a:{value:t}),w("click",p(a)?a:{value:t})}(e,s),key:s},{default:m((()=>[_(t,{class:"ht-segmented__item-label"},{default:m((()=>[a.$slots.label?k(a.$slots,"label",{key:0,option:$(p)(e)?e:{value:e}},void 0,!0):(v(),f(h,{key:1},[z(j($(p)(e)?e.value:e),1)],64))])),_:2},1024)])),_:2},1032,["class","onClick"])))),128)),_(t,{class:b("ht-segmented__item--active "+(A.value?"is-disabled":"")),style:y(U.activeStyle)},null,8,["class","style"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-6660f0ea"]]),M=B(t({__name:"Index",setup(t){const{t:s}=C(),n=l((()=>[s("pingLun"),s("dian-zan"),s("gong-xian"),s("da-shang")])),i=l((()=>[{value:s("li-lei"),disabled:!1,payload:{avatar:"https://registry.npmmirror.com/ht-ui-uni-assets/*/files/redpanda.jpg"}},{value:s("han-mei-mei"),disabled:!1,payload:{avatar:"https://registry.npmmirror.com/ht-ui-uni-assets/*/files/capybara.jpg"}},{value:s("lin-tao"),disabled:!0,payload:{avatar:"https://registry.npmmirror.com/ht-ui-uni-assets/*/files/panda.jpg"}},{value:s("tom"),disabled:!1,payload:{avatar:"https://registry.npmmirror.com/ht-ui-uni-assets/*/files/meng.jpg"}}])),o=S(s("jian-jie")),u=S(s("xiang-qing")),d=S(s("pingLun")),r=S(s("da-shang-0")),p=S(s("han-mei-mei-0")),f=S(s("pingLun"));function g(a){console.log(a)}const h=S(s("dian-zan")),b=S(),y=S(!1);function $(){y.value=!0}function k(){var a;null==(a=b.value)||a.updateActiveStyle()}return(t,s)=>{const l=w(U("ht-toast"),a),I=w(U("ht-segmented"),H),q=x,C=w(U("demo-block"),D),S=A,L=w(U("ht-button"),E),V=w(U("ht-popup"),F),G=w(U("page-wraper"),e);return v(),c(q,null,{default:m((()=>[_(l),_(G,null,{default:m((()=>[_(C,{title:t.$t("da-xing-fen-duan-qi"),transparent:""},{default:m((()=>[_(q,{class:"section"},{default:m((()=>[_(I,{options:n.value,value:o.value,"onUpdate:value":s[0]||(s[0]=a=>o.value=a),size:"large",onChange:g},null,8,["options","value"])])),_:1})])),_:1},8,["title"]),_(C,{title:t.$t("mo-ren-fen-duan-qi"),transparent:""},{default:m((()=>[_(q,{class:"section"},{default:m((()=>[_(I,{options:n.value,value:u.value,"onUpdate:value":s[1]||(s[1]=a=>u.value=a)},null,8,["options","value"])])),_:1})])),_:1},8,["title"]),_(C,{title:t.$t("xiao-xing-fen-duan-qi"),transparent:""},{default:m((()=>[_(q,{class:"section"},{default:m((()=>[_(I,{options:n.value,value:d.value,"onUpdate:value":s[2]||(s[2]=a=>d.value=a),size:"small"},null,8,["options","value"])])),_:1})])),_:1},8,["title"]),_(C,{title:t.$t("dai-zhen-dong-xiao-guo-de-fen-duan-qi"),transparent:""},{default:m((()=>[_(q,{class:"section"},{default:m((()=>[_(I,{options:n.value,value:r.value,"onUpdate:value":s[3]||(s[3]=a=>r.value=a),"vibrate-short":!0},null,8,["options","value"])])),_:1})])),_:1},8,["title"]),_(C,{title:t.$t("jin-yong-fen-duan-qi"),transparent:""},{default:m((()=>[_(q,{class:"section"},{default:m((()=>[_(I,{options:n.value,value:f.value,"onUpdate:value":s[4]||(s[4]=a=>f.value=a),disabled:""},null,8,["options","value"])])),_:1})])),_:1},8,["title"]),_(C,{title:t.$t("zi-ding-yi-xuan-ran-fen-duan-qi-biao-qian"),transparent:""},{default:m((()=>[_(q,{class:"section"},{default:m((()=>[_(I,{options:i.value,value:p.value,"onUpdate:value":s[5]||(s[5]=a=>p.value=a),"vibrate-short":!0,onChange:g},{label:m((({option:a})=>[_(q,{class:"section-slot"},{default:m((()=>[_(S,{style:{"border-radius":"50%",width:"32px",height:"32px"},src:a.payload.avatar},null,8,["src"]),_(q,{class:"name"},{default:m((()=>[z(j(a.value),1)])),_:2},1024)])),_:2},1024)])),_:1},8,["options","value"])])),_:1})])),_:1},8,["title"]),_(C,{title:t.$t("zai-dan-chu-kuang-zhong-shi-yong"),transparent:""},{default:m((()=>[_(q,{class:"section"},{default:m((()=>[_(L,{onClick:$},{default:m((()=>[z(j(t.$t("da-kai-dan-chuang")),1)])),_:1})])),_:1})])),_:1},8,["title"]),_(V,{modelValue:y.value,"onUpdate:modelValue":s[7]||(s[7]=a=>y.value=a),position:"bottom",onAfterEnter:k,closable:"","custom-style":"height: 200px;padding: 0 24rpx;"},{default:m((()=>[_(q,{class:"title"},{default:m((()=>[z(j(t.$t("zai-dan-chu-kuang-zhong-shi-yong-0")),1)])),_:1}),_(I,{options:n.value,value:h.value,"onUpdate:value":s[6]||(s[6]=a=>h.value=a),onChange:g,ref_key:"segmentedRef",ref:b},null,8,["options","value"])])),_:1},8,["modelValue"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-27a7106d"]]);export{M as default};
