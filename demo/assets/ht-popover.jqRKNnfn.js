import{d as e,a1 as o,r as s,z as t,v as a,a4 as l,a8 as n,b as c,e as r,f as p,g as u,w as i,h as m,p as d,i as _,t as v,x as y,k as h,l as f,F as k,j as b,B as C,A as w,H as j,I as S,m as g,K as A,n as $}from"./index-Bl407YMq.js";import{b as x,c as P,d as Q,m as T,a as V,_ as F}from"./base64.CiSqhNY6.js";import{a as H}from"./ht-loading.DCn6to1m.js";import{u as I}from"./usePopover.B4KIEI_W.js";import{r as O,p as q,c as G}from"./clickoutside.CJmLG0WC.js";import{q as z}from"./page-wraper.D_DLAzgo.js";const B=F(e({name:"ht-popover",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...x,customArrow:P(""),customPop:P(""),visibleArrow:Q(!0),content:[String,Object],placement:P("bottom"),offset:T(0),useContentSlot:Q(!1),disabled:Q(!1),showClose:Q(!1),modelValue:Q(!1),mode:P("normal")},emits:["update:modelValue","menuclick","change","open","close"],setup(e,{expose:x,emit:P}){const Q=e,T=P,F=o(z,null),B="popover",{proxy:K}=S(),D=I(Q.visibleArrow),E=s(!1);function J(e){M(!1),T("menuclick",{item:Q.content[e],index:e})}function L(){Q.disabled||M(!E.value)}function M(e){E.value=e,T("update:modelValue",e)}return t((()=>Q.content),(e=>{const{mode:o}=Q;"normal"===o&&"string"!=typeof e?console.error("The value type must be a string type in normal mode"):"menu"!==o||A(e)||console.error("The value type must be a Array type in menu mode")})),t((()=>Q.placement),(()=>{D.init(Q.placement,Q.visibleArrow,B)})),t((()=>Q.modelValue),(e=>{E.value=e})),t((()=>E.value),(e=>{e&&(D.control(Q.placement,Q.offset),F&&F.closeOther?F.closeOther(K):G(K)),D.showStyle.value=e?"display: inline-block;":"display: none;",T("change",{show:e}),T(""+(e?"open":"close"))})),a((()=>{D.init(Q.placement,Q.visibleArrow,B)})),l((()=>{F&&F.pushToQueue?F.pushToQueue(K):q(K),D.showStyle.value=E.value?"opacity: 1;":"opacity: 0;"})),n((()=>{F&&F.removeFromQueue?F.removeFromQueue(K):O(K)})),x({open:function(){M(!0)},close:function(){M(!1)}}),(e,o)=>{const s=g,t=c(r("ht-icon"),V),a=$,l=c(r("ht-transition"),H);return p(),u(s,{class:d(`ht-popover ${e.customClass}`),style:C(e.customStyle),id:"popover",onClick:j(b(D).noop,["stop"])},{default:i((()=>[m(s,{class:"ht-popover__pos ht-popover__hidden",id:"pos"},{default:i((()=>[m(s,{class:d(`ht-popover__container ${e.customPop}`)},{default:i((()=>[e.useContentSlot||"normal"!==e.mode?y("",!0):(p(),u(s,{key:0,class:"ht-popover__inner"},{default:i((()=>[_(v(e.content),1)])),_:1})),e.useContentSlot||"menu"!==e.mode||"object"!=typeof e.content?y("",!0):(p(),u(s,{key:1,class:"ht-popover__menu"},{default:i((()=>[(p(!0),h(k,null,f(e.content,((e,o)=>(p(),u(s,{key:o,class:"ht-popover__menu-inner",onClick:e=>J(o)},{default:i((()=>[e.iconClass?(p(),u(t,{key:0,name:e.iconClass,"custom-class":"ht-popover__icon"},null,8,["name"])):y("",!0),m(a,null,{default:i((()=>[_(v(e.content),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}))])),_:1},8,["class"])])),_:1}),m(l,{"custom-class":"ht-popover__pos","custom-style":b(D).popStyle.value,show:E.value,name:"fade",duration:200},{default:i((()=>[m(s,{class:d(`ht-popover__container ${e.customPop}`)},{default:i((()=>[Q.visibleArrow?(p(),u(s,{key:0,class:d(`ht-popover__arrow ${b(D).arrowClass.value} ${e.customArrow}`),style:C(b(D).arrowStyle.value)},null,8,["class","style"])):y("",!0),e.useContentSlot||"normal"!==e.mode?y("",!0):(p(),u(s,{key:1,class:"ht-popover__inner"},{default:i((()=>[_(v(e.content),1)])),_:1})),e.useContentSlot||"menu"!==e.mode?w(e.$slots,"content",{key:3},void 0,!0):(p(),u(s,{key:2,class:"ht-popover__menu"},{default:i((()=>[(p(!0),h(k,null,f(e.content,((e,o)=>(p(),u(s,{key:o,class:"ht-popover__menu-inner",onClick:e=>J(o),style:C(0===o?"border-top: none":"")},{default:i((()=>["object"==typeof e&&e.iconClass?(p(),u(t,{key:0,name:e.iconClass,"custom-class":"ht-popover__icon"},null,8,["name"])):y("",!0),m(s,{style:{display:"inline-block"}},{default:i((()=>[_(v("object"==typeof e&&e.content?e.content:""),1)])),_:2},1024)])),_:2},1032,["onClick","style"])))),128))])),_:1}))])),_:3},8,["class"]),e.showClose?(p(),u(t,{key:0,name:"close","custom-class":"ht-popover__close-icon",onClick:L})):y("",!0)])),_:3},8,["custom-style","show"]),m(s,{onClick:L,class:"ht-popover__target",id:"target"},{default:i((()=>[w(e.$slots,"default",{},void 0,!0)])),_:3})])),_:3},8,["class","style","onClick"])}}}),[["__scopeId","data-v-cf1b4cc6"]]);export{B as _};
