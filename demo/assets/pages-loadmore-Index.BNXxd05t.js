import{d as a,c as e,r as s,b as t,e as l,f as o,g as r,w as i,i as d,t as n,j as u,x as m,k as c,h as f,F as h,N as _,O as g,p,B as v,J as x,P as b,n as y,m as j,Q as T,R as k,S,l as C,s as w}from"./index-Bl407YMq.js";import{_ as I}from"./ht-divider.DSAb_jBr.js";import{b as P,a as J,_ as O}from"./base64.CiSqhNY6.js";import{c as R}from"./ht-loading.DCn6to1m.js";import{u as $}from"./useTranslate.C8VGrN03.js";import{_ as q}from"./page-wraper.D_DLAzgo.js";const z=O(a({name:"ht-loadmore",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...P,state:String,loadingText:String,finishedText:String,errorText:String,loadingProps:Object},emits:["reload"],setup(a,{emit:k}){const S=e((()=>{const a=x(C.loadingProps)?b(C.loadingProps,T):{};return a.customClass=`ht-loadmore__loading ${a.customClass||""}`,a})),C=a,w=k,{translate:P}=$("loadmore"),O=s(null);function q(){"error"===C.state&&(O.value="loading",w("reload"))}return(a,e)=>{const s=t(l("ht-divider"),I),x=y,b=t(l("ht-icon"),J),T=t(l("ht-loading"),R),k=j;return o(),r(k,{class:p(["ht-loadmore",a.customClass]),style:v(a.customStyle),onClick:q},{default:i((()=>["finished"===a.state?(o(),r(s,{key:0},{default:i((()=>[d(n(a.finishedText||u(P)("finished")),1)])),_:1})):m("",!0),"error"===a.state?(o(),c(h,{key:1},[f(x,{class:"ht-loadmore__text"},{default:i((()=>[d(n(a.errorText||u(P)("error")),1)])),_:1}),f(x,{class:"ht-loadmore__text is-light"},{default:i((()=>[d(n(u(P)("retry")),1)])),_:1}),f(b,{name:"refresh","custom-class":"ht-loadmore__refresh"})],64)):m("",!0),"loading"===a.state?(o(),c(h,{key:2},[f(T,_(g(S.value)),null,16),f(x,{class:"ht-loadmore__text"},{default:i((()=>[d(n(a.loadingText||u(P)("loading")),1)])),_:1})],64)):m("",!0)])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-beafa3ba"]]),B=O(a({__name:"Index",setup(a){const e=s("loading"),u=s(0),m=s(60);function _(){setTimeout((()=>{u.value=u.value+15,e.value="loading"}),200)}return k((()=>{45===u.value?e.value="error":u.value<m.value?_():u.value===m.value&&(e.value="finished")})),S((()=>{_()})),(a,s)=>{const m=w,g=j,p=t(l("ht-loadmore"),z),v=t(l("page-wraper"),q);return o(),r(v,null,{default:i((()=>[f(g,{class:"container"},{default:i((()=>[(o(!0),c(h,null,C(u.value,(e=>(o(),r(g,{key:e,class:"list-item"},{default:i((()=>[f(m,{src:"https://img10.360buyimg.com/jmadvertisement/jfs/t1/70325/36/14954/36690/5dcd3e3bEee5006e0/aed1ccf6d5ffc764.png"}),f(g,{class:"right"},{default:i((()=>[d(n(a.$t("zhe-shi-yi-tiao-ce-shi-index")+e+1),1)])),_:2},1024)])),_:2},1024)))),128)),f(p,{state:e.value,onReload:_},null,8,["state"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-13ea6bbe"]]);export{B as default};
