import{d as e,r as t,z as l,c as a,b7 as s,b as o,e as r,f as d,g as n,w as u,h as i,A as c,i as m,t as y,x,k as p,l as h,F as b,p as _,B as f,n as k,m as g}from"./index-Bl407YMq.js";import{b as v}from"./ht-loading.DCn6to1m.js";import{b as K,d as w,c as S,m as V,_ as A}from"./base64.CiSqhNY6.js";const T=A(e({name:"ht-number-keyboard",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...K,visible:w(!1),modelValue:S(""),title:String,mode:S("default"),zIndex:V(100),maxlength:V(1/0),showDeleteKey:w(!0),randomKeyOrder:w(!1),closeText:String,deleteText:String,closeButtonLoading:w(!1),modal:w(!1),hideOnClickOutside:w(!0),lockScroll:w(!0),safeAreaInsetBottom:w(!0),extraKey:[String,Array]},emits:["update:visible","input","close","delete","update:modelValue"],setup(e,{emit:K}){const w=e,S=K,V=t(w.visible);l((()=>w.visible),(e=>{V.value=e}));const A=a((()=>"custom"===w.mode?function(){const e=I(),t=Array.isArray(w.extraKey)?w.extraKey:[w.extraKey];1===t.length?e.push({text:0,wider:!0},{text:t[0],type:"extra"}):2===t.length&&e.push({text:t[0],type:"extra"},{text:0},{text:t[1],type:"extra"});return e}():[...I(),{text:w.extraKey,type:"extra"},{text:0},{text:w.showDeleteKey?w.deleteText:"",type:w.showDeleteKey?"delete":""}])),T=a((()=>w.closeText&&"default"===w.mode)),C=a((()=>w.title||T.value));function I(){const e=Array.from({length:9},((e,t)=>({text:t+1})));return w.randomKeyOrder?function(e){const t=[...e];for(let l=t.length-1;l>0;l--){const e=Math.floor(Math.random()*(l+1));[t[l],t[e]]=[t[e],t[l]]}return t}(e):e}const O=()=>{S("close"),S("update:visible",!1)},z=(e,t)=>{if(""===e&&"extra"===t)return O();const l=w.modelValue;"delete"===t?(S("delete"),S("update:modelValue",l.slice(0,l.length-1))):"close"===t?O():l.length<+w.maxlength&&(S("input",e),S("update:modelValue",l+e))};return(e,t)=>{const l=k,a=g,K=s("ht-key"),w=o(r("ht-popup"),v);return d(),n(w,{modelValue:V.value,"onUpdate:modelValue":t[0]||(t[0]=e=>V.value=e),position:"bottom","z-index":e.zIndex,"safe-area-inset-bottom":e.safeAreaInsetBottom,"modal-style":e.modal?"":"opacity: 0;",modal:e.hideOnClickOutside,lockScroll:e.lockScroll,onClickModal:O},{default:u((()=>[i(a,{class:_(`ht-number-keyboard ${e.customClass}`),style:f(e.customStyle)},{default:u((()=>[C.value?(d(),n(a,{key:0,class:"ht-number-keyboard__header"},{default:u((()=>[c(e.$slots,"title",{},(()=>[i(l,{class:"ht-number-keyboard__title"},{default:u((()=>[m(y(e.title),1)])),_:1})]),!0),T.value?(d(),n(a,{key:0,class:"ht-number-keyboard__close","hover-class":"ht-number-keyboard__close--hover",onClick:O},{default:u((()=>[i(l,null,{default:u((()=>[m(y(e.closeText),1)])),_:1})])),_:1})):x("",!0)])),_:3})):x("",!0),i(a,{class:"ht-number-keyboard__body"},{default:u((()=>[i(a,{class:"ht-number-keyboard__keys"},{default:u((()=>[(d(!0),p(b,null,h(A.value,(e=>(d(),n(K,{key:e.text,text:e.text,type:e.type,wider:e.wider,onPress:z},null,8,["text","type","wider"])))),128))])),_:1}),"custom"===e.mode?(d(),n(a,{key:0,class:"ht-number-keyboard__sidebar"},{default:u((()=>[e.showDeleteKey?(d(),n(K,{key:0,large:"",text:e.deleteText,type:"delete",onPress:z},null,8,["text"])):x("",!0),i(K,{large:"",text:e.closeText,type:"close",loading:e.closeButtonLoading,onPress:z},null,8,["text","loading"])])),_:1})):x("",!0)])),_:1})])),_:3},8,["class","style"])])),_:3},8,["modelValue","z-index","safe-area-inset-bottom","modal-style","modal","lockScroll"])}}}),[["__scopeId","data-v-4c94522e"]]);export{T as _};
